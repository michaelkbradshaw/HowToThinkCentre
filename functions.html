

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4. Creating Functions For World Domination &mdash; How to Think Like a Computer Scientist: Learning with Python 3 (HAN)</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3rd Edition-HAN',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="How to Think Like a Computer Scientist: Learning with Python 3 (HAN)" href="index.html" />
    <link rel="next" title="5. Conditionals and Debugging" href="conditionals.html" />
    <link rel="prev" title="3. Using Functions for Fun and Profit" href="usingfunctions.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="conditionals.html" title="5. Conditionals and Debugging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usingfunctions.html" title="3. Using Functions for Fun and Profit"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">How to Think Like a Computer Scientist: Learning with Python 3</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="creating-functions-for-world-domination">
<h1>4. Creating Functions For World Domination<a class="headerlink" href="#creating-functions-for-world-domination" title="Permalink to this headline">¶</a></h1>
<div class="section" id="creating-functions">
<span id="index-0"></span><h2>4.1. Creating Functions<a class="headerlink" href="#creating-functions" title="Permalink to this headline">¶</a></h2>
<p>We have seen how to call functions in order to create interesting pictures.
Now we will stride forth to create our own functions.
When we create and use functions, we decrease the amount of code
that we have to write, decrease the number of errors we will make,
and increase the readability of the code.
All in all, functions are pretty cool!</p>
<p>Creating a function is called <strong>Defining a Function</strong>.
The syntax for a <strong>function definition</strong> is:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">NAME</span><span class="p">(</span> <span class="n">PARAMETERS</span> <span class="p">):</span>
    <span class="n">STATEMENTS</span>
</pre></div>
</div>
</div></blockquote>
<p>You can make up any names you want for the functions you create, except that
you can&#8217;t use a name that is a Python keyword, and the names must follow the rules
for legal identifiers. The parameters specifies
what information, if any, you have to provide in order to use the new function.</p>
<p>There can be any number of statements inside the function, but they have to be
indented from the <tt class="docutils literal"><span class="pre">def</span></tt>. In the examples in this book, we will use the
standard indentation of four spaces. Function definitions are the first of
several <strong>control structures</strong> we will see, all of which have the same
pattern:</p>
<ol class="arabic simple">
<li>A header line which begins with a keyword and ends with a colon.</li>
<li>A <strong>body</strong> consisting of one or more Python statements, each
indented the same amount &#8211; <em>4 spaces is the Python standard</em> &#8211; from
the header line.</li>
</ol>
<p>In a function definition, the keyword in the header is <tt class="docutils literal"><span class="pre">def</span></tt>, which is
followed by the name of the function and some <strong>parameters</strong> enclosed in
parentheses. The parameter list may be empty, or it may contain any number of
parameters separated from one another by commas. In either case, the parentheses are required.</p>
<div class="section" id="functions-without-parameters">
<h3>4.1.1. Functions without Parameters<a class="headerlink" href="#functions-without-parameters" title="Permalink to this headline">¶</a></h3>
<p>Functions without a parameter are the simplest to construct.
Since they take no inputs, they will usually perform the same actions each time they are called.  The following function provides a well deserved cheer for the caller.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">cheer</span><span class="p">():</span>
   <span class="sd">&quot;&quot;&quot;prints a well deserved cheer for the caller&quot;&quot;&quot;</span>

   <span class="nb">print</span><span class="p">(</span><span class="s">&quot;Hip Hip Hooray&quot;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s">&quot;Hip Hip Hooray&quot;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s">&quot;Hip Hip Hooray!!&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<div class="admonition-docstrings admonition">
<p class="first admonition-title">docstrings</p>
<p>If the first thing after the function header is a triple-quoted string,
it is called a <strong>docstring</strong>
and gets special treatment in Python and in some of the programming tools.
For example, when using IDLE, when you type a function name it will pop up a
tooltip showing the parameters of the function, and the text from the docstring.</p>
<p>Another way to retrieve this information is to use the interactive
interpreter, and enter the expression <tt class="docutils literal"><span class="pre">&lt;function_name&gt;.__doc__</span></tt>, which will retrieve the
docstring for the function.  So the string you write as documentation at the start of a function is
retrievable by python tools <em>at runtime</em>.  This is different from comments in your code,
which are completely eliminated when the program is parsed.</p>
<p class="last">By convention, Python programmers use docstrings for the key documentation of
their functions.</p>
</div>
</div>
<div class="section" id="functions-with-parameters">
<h3>4.1.2. Functions with Parameters<a class="headerlink" href="#functions-with-parameters" title="Permalink to this headline">¶</a></h3>
<p>Functions are more flexible when they have <strong>parameters</strong>.  Parameters serve as variables to store the <em>arguments</em> that are used when the function is called. This means that when we define a function, we do not know what the value of those parameters will be, but we know that the parameters <em>will</em> have a value when they are used.</p>
<p>The following function is used to print the sum of two parameters.  It is called adder.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">adder</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span><span class="n">number2</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;prints the sum of number1 and number2&quot;&quot;&quot;</span>

   <span class="n">total</span> <span class="o">=</span> <span class="n">number1</span> <span class="o">+</span> <span class="n">number2</span>
   <span class="nb">print</span><span class="p">(</span><span class="s">&quot;The total is&quot;</span><span class="p">,</span><span class="n">total</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>To call this function we need to provide arguments in our functions call. Below we see that values can be used directly (line 1), through the use of variables (line 5) or some combination of the two (line 8).</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">adder</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">The total is 8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="mi">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adder</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">The total is 12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number1</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adder</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">The total is 9</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<div class="admonition-have-faith admonition">
<p class="first admonition-title">Have Faith</p>
<p>Many novice programmers have a crisis of faith when they are defining functions.  Novice programmers look at those parameters and will often make the following move of desperation.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">adder</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span><span class="n">number2</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;prints the sum of number1 and number2&quot;&quot;&quot;</span>
   <span class="n">number1</span><span class="o">=</span><span class="mi">5</span>   <span class="c">#NO!!!</span>
   <span class="n">number2</span><span class="o">=</span><span class="mi">10</span>  <span class="c">#NO AGAIN!</span>

   <span class="n">total</span> <span class="o">=</span> <span class="n">number1</span> <span class="o">+</span> <span class="n">number2</span>
   <span class="nb">print</span><span class="p">(</span><span class="s">&quot;The total is&quot;</span><span class="p">,</span><span class="n">total</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">You see, the parameters are just variables.  Parameter values are set when the function is called.  By artificially providing values, this function is in effect ignoring the input.  Whenever you feel panic that you don&#8217;t know the value of a parameter, take a deep breath and have faith that whoever calls your function <em>will</em> provide the values for your parameters.</p>
</div>
</div>
</div>
<div class="section" id="functions-that-return-values">
<h2>4.2. Functions that return values<a class="headerlink" href="#functions-that-return-values" title="Permalink to this headline">¶</a></h2>
<p>Functions that return values are called <strong>fruitful functions</strong> in this course.
In many other languages, a chunk that doesn&#8217;t return a value is called a <strong>procedure</strong>,
but we will stick here with the Python way of also calling it a function, or if we want
to stress it, a <em>non-fruitful</em> function.  (Would the term <em>barren function</em> be easier?)</p>
<p>The first example
is <tt class="docutils literal"><span class="pre">area</span></tt>, which returns the area of a circle with the given radius:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="n">radius</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;returns the area of a circle with radius, radius&quot;&quot;&quot;</span>

    <span class="n">b</span> <span class="o">=</span> <span class="mf">3.14159</span> <span class="o">*</span> <span class="n">radius</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">b</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>We have seen the <tt class="docutils literal"><span class="pre">return</span></tt> statement before, but in a fruitful function the
<tt class="docutils literal"><span class="pre">return</span></tt> statement includes a <strong>return value</strong>. This statement means: evaluate
the return expression, and then return it immediately as the result (the fruit)
of this function.  The expression provided can be arbitrarily complicated,
so we could have written this function like this:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="n">radius</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;returns the area of a circle with radius, radius&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mf">3.14159</span> <span class="o">*</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">radius</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>On the other hand, <strong>temporary variables</strong> like <tt class="docutils literal"><span class="pre">b</span></tt> above often make debugging
easier.</p>
<div class="section" id="fruit-of-our-labors">
<h3>4.2.1. Fruit of our Labors<a class="headerlink" href="#fruit-of-our-labors" title="Permalink to this headline">¶</a></h3>
<p>In the exercises at the end of chapter 2 we saw the standard formula for compound interest, which we&#8217;ll now write as a fruitful function:</p>
<blockquote>
<div><img alt="_images/compoundInterest.png" src="_images/compoundInterest.png" />
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">final_amt</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Apply the compound interest formula to p</span>
<span class="sd">       to produce the final amount.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">a</span> <span class="o">=</span> <span class="n">p</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span>         <span class="c"># This is new, and makes the function fruitful.</span>

<span class="c"># now that we have the function above, let us call it.</span>
<span class="n">toInvest</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">&quot;How much do you want to invest?&quot;</span><span class="p">))</span>
<span class="n">fnl</span> <span class="o">=</span> <span class="n">final_amt</span><span class="p">(</span><span class="n">toInvest</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;At the end of the period you&#39;ll have R&quot;</span><span class="p">,</span> <span class="n">fnl</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<ul>
<li><p class="first">The <strong>return</strong> statement is followed an expression which is evaluated.  Its result is returned to the caller as the &#8220;fruit&#8221; of calling this function.</p>
</li>
<li><p class="first">We prompted the user for the principal amount.  The type of <tt class="docutils literal"><span class="pre">toInvest</span></tt> is a string, but
we need a number before we can work with it.  Because it is money, and could have decimal places,
we&#8217;ve used the <tt class="docutils literal"><span class="pre">float</span></tt> type converter function to parse the string and return a float.</p>
</li>
<li><p class="first">Notice how we entered the arguments for 8% interest, compounded 12 times per year, for 5 years.</p>
</li>
<li><p class="first">When we run this, we get the output</p>
<blockquote>
<div><p><em>At the end of the period you&#8217;ll have R 14898.457083</em></p>
</div></blockquote>
<p>This is a bit messy with all these decimal places, but remember that
Python doesn&#8217;t understand that you&#8217;re working with money: it just does the calculation to
the best of its ability, without rounding.  Later we&#8217;ll show you how to format the string that
is printed in such a way that it does get nicely rounded to two decimal places before printing.</p>
</li>
<li><p class="first">The line <cite>toInvest = float(input(&#8220;How much do you want to invest?&#8221;))</cite>
also shows yet another example
of <em>composition</em> &#8212; we can call a function like <cite>float</cite>, and its arguments
can be the results of other function calls (like <cite>input</cite>) that we&#8217;ve called along the way.</p>
</li>
</ul>
<p>Notice something else very important here. The name of the variable we pass as an
argument &#8212; <cite>toInvest</cite> &#8212; has nothing to do with the name of the parameter
&#8212; <cite>p</cite>.  It is as if  <cite>p = toInvest</cite> is executed when <cite>final_amt</cite> is called.
It doesn&#8217;t matter what the value was named in
the caller, in <cite>final_amt</cite> it&#8217;s name is <cite>p</cite>.</p>
<p>These short variable names are getting quite tricky, so perhaps you&#8217;d prefer one of these
versions instead:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">final_amt_v2</span><span class="p">(</span><span class="n">principalAmount</span><span class="p">,</span> <span class="n">nominalPercentageRate</span><span class="p">,</span>
                                    <span class="n">numTimesPerYear</span><span class="p">,</span> <span class="n">years</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">principalAmount</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">nominalPercentageRate</span> <span class="o">/</span>
                         <span class="n">numTimesPerYear</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">numTimesPerYear</span><span class="o">*</span><span class="n">years</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span>

<span class="k">def</span> <span class="nf">final_amt_v3</span><span class="p">(</span><span class="n">amt</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">compounded</span><span class="p">,</span> <span class="n">years</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">amt</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">rate</span><span class="o">/</span><span class="n">compounded</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">componded</span><span class="o">*</span><span class="n">years</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>They all do the same thing.   Use your judgment to write code that can be best understood by other humans!</p>
</div>
</div>
<div class="section" id="variables-and-parameters-are-local">
<span id="index-1"></span><h2>4.3. Variables and parameters are local<a class="headerlink" href="#variables-and-parameters-are-local" title="Permalink to this headline">¶</a></h2>
<p>When you create a <strong>local variable</strong> inside a function, it only exists inside
the function, and you cannot use it outside. For example, consider again this function:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">final_amt</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">p</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>If we try to use <cite>a</cite>, outside the function, we&#8217;ll get an error:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">NameError: name &#39;a&#39; is not defined</span>
</pre></div>
</div>
</div></blockquote>
<p>The variable <cite>a</cite> is local to <cite>final_amt</cite>, and is not visible
outside the function.</p>
<p>Additionally, <tt class="docutils literal"><span class="pre">a</span></tt> only exists while the function is being executed &#8212;
we call this its <strong>lifetime</strong>.
When the execution of the function terminates,
the local variables  are destroyed.</p>
<p>Parameters are also local, and act like local variables.
For example, the lifetimes of <cite>p</cite>, <cite>r</cite>, <cite>n</cite>, <cite>t</cite> begin when <cite>final_amt</cite> is called,
and the lifetime ends when the function completes its execution.</p>
<p>So it is not possible for a function to set some local variable to a
value, complete its execution, and then when it is called again next
time, recover the local variable.  Each call of the function creates
new local variables, and their lifetimes expire when the function returns
to the caller.</p>
</div>
<div class="section" id="flow-of-execution">
<span id="index-2"></span><h2>4.4. Flow of execution<a class="headerlink" href="#flow-of-execution" title="Permalink to this headline">¶</a></h2>
<p>In order to ensure that a function is defined before its first use, you have to
know the order in which statements are executed, which is called the <strong>flow of
execution</strong>.   We&#8217;ve already talked about this a little in the previous chapter.</p>
<p>Execution always begins at the first statement of the program.  Statements are
executed one at a time, in order from top to bottom.</p>
<p>Function definitions do not alter the flow of execution of the program, but
remember that statements inside the function are not executed until the
function is called. Although it is not common, you can define one function
inside another. In this case, the inner definition isn&#8217;t executed until the
outer function is called.</p>
<p>Function calls are like a detour in the flow of execution. Instead of going to
the next statement, the flow jumps to the first line of the called function,
executes all the statements there, and then comes back to pick up where it left
off.</p>
<p>That sounds simple enough, until you remember that one function can call
another. While in the middle of one function, the program might have to execute
the statements in another function. But while executing that new function, the
program might have to execute yet another function!</p>
<p>Fortunately, Python is adept at keeping track of where it is, so each time a
function completes, the program picks up where it left off in the function that
called it. When it gets to the end of the program, it terminates.</p>
<p>What&#8217;s the moral of this sordid tale? When you read a program, don&#8217;t read from
top to bottom. Instead, follow the flow of execution.</p>
</div>
<div class="section" id="program-development">
<span id="index-3"></span><h2>4.5. Program development<a class="headerlink" href="#program-development" title="Permalink to this headline">¶</a></h2>
<p>At this point, you should be able to look at complete functions and tell what
they do. Also, if you have been doing the exercises, you have written some
small functions. As you write larger functions, you might start to have more
difficulty, especially with runtime and semantic errors.</p>
<p>To deal with increasingly complex programs, we are going to suggest a technique
called <strong>incremental development</strong>. The goal of incremental development is to
avoid long debugging sessions by adding and testing only a small amount of code
at a time.</p>
<p>As an example, suppose you want to find the distance between two points, given
by the coordinates (x<sub>1</sub>, y<sub>1</sub>) and
(x<sub>2</sub>, y<sub>2</sub>).  By the Pythagorean theorem, the distance is:</p>
<blockquote>
<div><img alt="Distance formula" src="_images/distance_formula.png" />
</div></blockquote>
<p>The first step is to consider what a <tt class="docutils literal"><span class="pre">distance</span></tt> function should look like in
Python. In other words, what are the inputs (parameters) and what is the output
(return value)?</p>
<p>In this case, the two points are the inputs, which we can represent using four
parameters. The return value is the distance, which is a floating-point value.</p>
<p>Already we can write an outline of the function that captures our thinking so far:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>

    <span class="k">return</span> <span class="mf">0.0</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Obviously, this version of the function doesn&#8217;t compute distances; it always
returns zero. But it is syntactically correct, and it will run, which means
that we can test it before we make it more complicated.</p>
<p>To test the new function, we call it with sample values:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
</div></blockquote>
<p>We chose these values so that the horizontal distance equals 3 and the vertical
distance equals 4; that way, the result is 5 (the hypotenuse of a 3-4-5
triangle). When testing a function, it is useful to know the right answer.</p>
<p>At this point we have confirmed that the function is syntactically correct, and
we can start adding lines of code. After each incremental change, we test the
function again. If an error occurs at any point, we know where it must be &#8212; in
the last line we added.</p>
<p>A logical first step in the computation is to find the differences
x<sub>2</sub>- x<sub>1</sub> and y<sub>2</sub>- y<sub>1</sub>.  We will store
those values in temporary variables named <tt class="docutils literal"><span class="pre">dx</span></tt> and <tt class="docutils literal"><span class="pre">dy</span></tt>.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>

    <span class="n">dx</span> <span class="o">=</span> <span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span>
    <span class="k">return</span> <span class="mf">0.0</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>If we call the function with the arguments shown above, when the flow of execution
gets to the return statement, <cite>dx</cite> should be 3 and <cite>dy</cite> should be 4.</p>
<p>Next we compute the sum of squares of <tt class="docutils literal"><span class="pre">dx</span></tt> and <tt class="docutils literal"><span class="pre">dy</span></tt>:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>

    <span class="n">dx</span> <span class="o">=</span> <span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span>
    <span class="n">dsquared</span> <span class="o">=</span> <span class="n">dx</span><span class="o">*</span><span class="n">dx</span> <span class="o">+</span> <span class="n">dy</span><span class="o">*</span><span class="n">dy</span>
    <span class="k">return</span> <span class="mf">0.0</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Again, we could run the program at this stage and check the value of <tt class="docutils literal"><span class="pre">dsquared</span></tt> (which
should be 25).</p>
<p>Finally, using the fractional exponent <tt class="docutils literal"><span class="pre">0.5</span></tt> to find the square root,
we compute and return the result:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>

    <span class="n">dx</span> <span class="o">=</span> <span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span>
    <span class="n">dsquared</span> <span class="o">=</span> <span class="n">dx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dy</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">dsquared</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>If that works correctly, you are done. Otherwise, you might want to inspect the
value of <tt class="docutils literal"><span class="pre">result</span></tt> before the return statement.</p>
<p>When you start out, you might add only a line or two of code at a time. As you
gain more experience, you might find yourself writing and debugging bigger
conceptual chunks. Either way, stepping through your code one line at a time and
verifying that each step matches your expectations can save you a lot of
debugging time.  As you improve your programming skills you should find yourself
managing bigger and bigger chunks: this is very similar to the way we learned to read
letters, syllables, words, phrases, sentences, paragraphs, etc., or the way we learn
to chunk music &#8212; from individual notes to chords, bars, phrases, and so on.</p>
<p>The key aspects of the process are:</p>
<ol class="arabic simple">
<li>Start with a working skeleton program and make small incremental changes. At any
point, if there is an error, you will know exactly where it is.</li>
<li>Use temporary variables to hold intermediate values so that you can easily inspect
and check them.</li>
<li>Once the program is working, relax, sit back, and play around with your options.
(There is interesting research that links &#8220;playfulness&#8221; to better understanding,
better learning, more enjoyment, and a more positive mindset about
what you can achieve &#8212; so spend some time fiddling around!)
You might want to consolidate multiple statements into one bigger compound expression,
or rename the variables you&#8217;ve used, or see if you can make the function shorter.
A good guideline is to aim for making code as easy as possible for others to read.</li>
</ol>
<p>Here is another version of the function.  It makes use of a square root function
that is in the <tt class="docutils literal"><span class="pre">math</span></tt> module (we&#8217;ll learn about modules shortly).  Which do you
prefer?  Which looks &#8220;closer&#8221; to the Pythagorean formula we started out with?</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="p">(</span><span class="n">x2</span><span class="o">-</span><span class="n">x1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">5.0</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="composition-functions-can-call-another-function">
<span id="index-4"></span><h2>4.6. Composition - functions can call another function<a class="headerlink" href="#composition-functions-can-call-another-function" title="Permalink to this headline">¶</a></h2>
<p>As you should expect by now, you can call one function from within another.
This ability is called <strong>composition</strong>.</p>
<p>As an example, we&#8217;ll write a function that takes two points, the center of the
circle and a point on the perimeter, and computes the area of the circle.</p>
<p>Assume that the center point is stored in the variables <tt class="docutils literal"><span class="pre">xc</span></tt> and <tt class="docutils literal"><span class="pre">yc</span></tt>, and
the perimeter point is in <tt class="docutils literal"><span class="pre">xp</span></tt> and <tt class="docutils literal"><span class="pre">yp</span></tt>. The first step is to find the
radius of the circle, which is the distance between the two points.
Fortunately, we&#8217;ve just written a function, <tt class="docutils literal"><span class="pre">distance</span></tt>, that does just that,
so now all we have to do is use it:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">radius</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span><span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>The second step is to find the area of a circle with that radius and return it.
Again we will use one of our earlier functions:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">area</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
<span class="k">return</span> <span class="n">result</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Wrapping that up in a function, we get:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">area2</span><span class="p">(</span><span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">):</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span><span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">area</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>We called this function <tt class="docutils literal"><span class="pre">area2</span></tt> to distinguish it from the <tt class="docutils literal"><span class="pre">area</span></tt> function
defined earlier. There can only be one function with a given name within a
module.</p>
<p>The temporary variables <tt class="docutils literal"><span class="pre">radius</span></tt> and <tt class="docutils literal"><span class="pre">result</span></tt> are useful for development,
debugging, and single-stepping through the code to inspect what is happening,
but once the program is working, we can make it more concise by
composing the function calls:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">area2</span><span class="p">(</span><span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">area</span><span class="p">(</span><span class="n">distance</span><span class="p">(</span><span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
<div class="section" id="refactoring-rules-for-functions">
<span id="index-5"></span><h2>4.7. Refactoring Rules for Functions<a class="headerlink" href="#refactoring-rules-for-functions" title="Permalink to this headline">¶</a></h2>
<p>Let us create a function to draw a house.  We will start simply and demonstrate how the to incrementally improve the function as we work toward a robust solution.  This process of rearrangement is called <strong>refactoring</strong>.
The trick about refactoring code is to see which things you are likely to want to change
each time you call the function: these should become the parameters, or changeable bits,
of the functions you write.</p>
<p>Here are four guidelines about when it is a good time to create a function.  These rules are not ironclad and part of becoming an experienced programmer will be determining when to bend these rules.</p>
<blockquote>
<div><ol class="arabic simple">
<li>All code should be in a function.</li>
<li>No functions should be over a page.</li>
<li>Functions should be used to make the program easier to understand.</li>
<li>Functions should be used when there is repetition.</li>
</ol>
</div></blockquote>
<p>We will start with a program that draws a house.  This program follows the first rule in that all code is in a function.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pygame</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; draws house &quot;&quot;&quot;</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

    <span class="n">MAIN_COLOR</span>  <span class="o">=</span>  <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">TRIM_COLOR</span>  <span class="o">=</span>  <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">WHITE</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>

    <span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
    <span class="n">window</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>

    <span class="c">#draw the house</span>
    <span class="c">#body</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">MAIN_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span><span class="mi">0</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span><span class="mi">3</span> <span class="p">)</span>

    <span class="c">#chim</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">MAIN_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">75</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">75</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">roof</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">150</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">200</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span><span class="n">roof</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="c">#door</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,(</span><span class="mi">75</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
    <span class="c">#windows</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,(</span><span class="mi">150</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="n">WAIT</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s">&quot;Press enter to exit&quot;</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<img alt="a picture of a house" src="_images/pygame_house_simple.png" />
<div class="section" id="using-functions-to-aid-understanding">
<h3>4.7.1. Using Functions to Aid Understanding<a class="headerlink" href="#using-functions-to-aid-understanding" title="Permalink to this headline">¶</a></h3>
<p>We have taken a first stab at a program that will draw a house to the screen.  We have put all of the code into one function, so we have satisfied the first rule.  However we find that we are in violation of the second rule, the code is over a page.  Humans are not able to keep track of more that 3-7 things at a time.  When you have a long section of code, humans need to reread the code, often, in order to figure out what is going on.  If you can&#8217;t see all of the function at once, it will be difficult to get it right.</p>
<p>We need to break up the longer function into smaller functions. The question is where should we break the code up?  At the top level this code does two things: handling the window and drawing the house.  Like paragraphs in English text, which only have one thought, a function should only do one thing.  So we will break this up into two functions.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pygame</span>


<span class="k">def</span> <span class="nf">drawHouse</span><span class="p">(</span><span class="n">surface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;draws a house&quot;&quot;&quot;</span>
    <span class="n">MAIN_COLOR</span>  <span class="o">=</span>  <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">TRIM_COLOR</span>  <span class="o">=</span>  <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="c">#body</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">MAIN_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span><span class="mi">0</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span><span class="mi">3</span> <span class="p">)</span>

    <span class="c">#chimney</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">MAIN_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">75</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">75</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">roof</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">150</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">200</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,</span><span class="n">roof</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="c">#door</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,(</span><span class="mi">75</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
    <span class="c">#windows</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">TRIM_COLOR</span><span class="p">,(</span><span class="mi">150</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

    <span class="n">WHITE</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
    <span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
    <span class="n">window</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>

    <span class="n">drawHouse</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="n">WAIT</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s">&quot;Press enter to exit&quot;</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
<div class="section" id="adding-parameters-to-enable-repetition">
<h3>4.7.2. Adding Parameters to Enable Repetition<a class="headerlink" href="#adding-parameters-to-enable-repetition" title="Permalink to this headline">¶</a></h3>
<p>This was a good improvement.  We can see flow of the program inside of main without straining too much. In particular, look for places where we could refactor to improve reuse and to avoid repetition. In <tt class="docutils literal"><span class="pre">drawHouse()</span></tt> there are two opportunities to make use of parameters in our functions.  The simplest improvement is that we can add parameters to customize the colors of the house.  By making mainColor and trimColor parameters, I do not need to write a new function if I ever want to create a different colored house.  Since they are no longer constants, I have changed them to lower case below.</p>
<p>The second improvement comes from looking at lines 10-11 and lines 14-15.  Here are two places that we create a bordered rectangle effect, the only differences are where the rectangle is drawn and how wide the border is.  This is a good opportunity to introduce a new function.
I will create a helper function called <tt class="docutils literal"><span class="pre">drawBorderedRect</span></tt>. The parameters provide the colors, the rectangle to draw, and how thick the border will be.  The exciting thing about this function is that we can reuse it to help out with other functions we would like to draw, like <tt class="docutils literal"><span class="pre">drawDogHouse()</span></tt> or <tt class="docutils literal"><span class="pre">drawCastle()</span></tt>.</p>
<p>I&#8217;ll make one final change for this section.  If we look at the documentation for the <tt class="docutils literal"><span class="pre">pygame.draw</span></tt> functions, we see that all of them return a bounding Rectangle (<tt class="docutils literal"><span class="pre">pygame.Rect</span></tt>).  Since we are using both out functions and pygame&#8217;s functions, it would be good if they behave in a similar fashion.  I&#8217;ve altered the draw functions to return bounding rectangles. The documentation for pgames&#8217;s Rects class can be found here: <a class="reference external" href="http://www.pygame.org/docs/ref/rect.html">http://www.pygame.org/docs/ref/rect.html</a>.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pygame</span>

<span class="k">def</span> <span class="nf">drawBorderedRect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span><span class="n">rect</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;draws a rectangle with a border in trimColor&quot;&quot;&quot;</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span><span class="mi">0</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span><span class="n">width</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">drawHouse</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;draws a mainColored house with timeColoring&quot;&quot;&quot;</span>

    <span class="c">#body</span>
    <span class="n">drawBorderedRect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>

    <span class="c">#chim</span>
    <span class="n">drawBorderedRect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">75</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">roof</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">150</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">200</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span><span class="n">roof</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="c">#door</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">75</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
    <span class="c">#windows</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">150</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

    <span class="c">#returns bounding rectangle to match the pygame.draw functions</span>
    <span class="k">return</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">180</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
     <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

     <span class="n">WHITE</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
     <span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
     <span class="n">window</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>

     <span class="n">drawHouse</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

     <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
     <span class="n">WAIT</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s">&quot;Press enter to exit&quot;</span><span class="p">)</span>
     <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
<div class="section" id="fancy-additions">
<h3>4.7.3. Fancy Additions<a class="headerlink" href="#fancy-additions" title="Permalink to this headline">¶</a></h3>
<p>This will be the last pass over our work.  We will make one frivolous addition and one required addition.  Hopefully this will open your eyes to how we can reuse and refine our program though the use of functions.</p>
<p>I would like to have fancier windows.  I think the little cross beams look nice.  This is a significant addition to the code and I will need to do it twice, so as you can guess this would be a good time for us to reintroduce another function <tt class="docutils literal"><span class="pre">drawWindow()</span></tt>.  There are several ways to do this. One simple and acceptable technique would be to use two parameters to send the x and y values to the function.  I&#8217;ll take a slightly more complex approach to demonstrate some of the abilities of the Rect type.  We pass only one parameter for the position (along with surface and color parameters).</p>
<p>I create three rects, one for the window and 2 for the slats. The window is straightforward. I can use the alternative rectangle creation function that takes two 2-tuples, one tuple for the x,y position and one tuple for the width and height.  To create the slats, I create the rectangle in place at the position given.  Then I move the rectangle relative to its initial position to create the new rectangles.  Once I create each rectangle I can use the appropriate draw functions since they will accept a Rect object as well as a generic tuple object.</p>
<p>The second function I want to create is necessary for reuse.  Presently, the <tt class="docutils literal"><span class="pre">drawHouse()</span></tt> function only draws to one place and always the same size.  There are several options of how to deal with this.  One approach would be to pass the x, y, and scaling parameters to the drawHouse function.  The coordinates could all be generated as a function of (in the mathematical sense) x, y, and scale.  This would actually produce the most efficient code for the computer but would be a lot of work to do right.  Once again, I&#8217;ll take a different approach to highlight some more features of pygame.</p>
<p>First I&#8217;ll change the name of <tt class="docutils literal"><span class="pre">drawHouse()</span></tt> to <tt class="docutils literal"><span class="pre">__drawHouse()</span></tt> and will create a new <tt class="docutils literal"><span class="pre">drawHouse()</span></tt> function.  I&#8217;ll use the <tt class="docutils literal"><span class="pre">__drawHouse()</span></tt> and a private, helper function and use <tt class="docutils literal"><span class="pre">drawHouse()</span></tt> to do the positioning and scaling work.</p>
<p>The new <tt class="docutils literal"><span class="pre">drawHouse()</span></tt> will draw the house to a temporary surface.  Then we can scale our picture using the transformation library in pygame found here: <a class="reference external" href="http://www.pygame.org/docs/ref/transform.html">http://www.pygame.org/docs/ref/transform.html</a>.  <tt class="docutils literal"><span class="pre">smoothscale()</span></tt> just needs the new dimensions to create a new scaled surface.  Once we have a surface with the final image ready we can use the <tt class="docutils literal"><span class="pre">blit()</span></tt> function to put one surface onto another surface.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pygame</span>

<span class="k">def</span> <span class="nf">drawBorderedRect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span><span class="n">rect</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;draws a rectangle with a border in trimColor&quot;&quot;&quot;</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span><span class="mi">0</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span><span class="n">width</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">drawWindow</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; draws a window &quot;&quot;&quot;</span>

    <span class="n">windowRect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">pos</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span><span class="n">windowRect</span><span class="p">)</span>

    <span class="n">hSlit</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">pos</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
    <span class="n">hSlit</span> <span class="o">=</span> <span class="n">hSlit</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">hSlit</span><span class="p">)</span>

    <span class="n">vSlit</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">pos</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">vSlit</span> <span class="o">=</span> <span class="n">vSlit</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">vSlit</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">__drawHouse</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;draws a mainColored house with timeColoring&quot;&quot;&quot;</span>

    <span class="c">#body</span>
    <span class="n">drawBorderedRect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>

    <span class="c">#chim</span>
    <span class="n">drawBorderedRect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">75</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">roof</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">150</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">200</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span> <span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span><span class="n">roof</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="c">#door</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,(</span><span class="mi">75</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
    <span class="c">#windows</span>
    <span class="n">drawWindow</span><span class="p">(</span><span class="n">surface</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">95</span><span class="p">),</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">)</span>
    <span class="n">drawWindow</span><span class="p">(</span><span class="n">surface</span><span class="p">,(</span><span class="mi">150</span><span class="p">,</span><span class="mi">95</span><span class="p">),</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">)</span>

    <span class="c">#returns bounding rectangle to match the pygame.draw functions</span>
    <span class="k">return</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">180</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">drawHouse</span><span class="p">(</span><span class="n">surface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;draws a colored house at pos, resized by scale &lt;1 is smaller&quot;&quot;&quot;</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="n">height</span> <span class="o">=</span> <span class="mi">180</span>
    <span class="c">#draw house to temp Surface</span>
    <span class="n">tempSurface</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">(</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
    <span class="n">tempSurface</span> <span class="o">=</span> <span class="n">tempSurface</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
    <span class="n">__drawHouse</span><span class="p">(</span><span class="n">tempSurface</span><span class="p">,</span><span class="n">mainColor</span><span class="p">,</span><span class="n">trimColor</span><span class="p">)</span>

    <span class="c">#now scale tempSurface</span>
    <span class="n">sWidth</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="o">*</span><span class="n">scale</span><span class="p">)</span>
    <span class="n">sHeight</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">height</span><span class="o">*</span><span class="n">scale</span><span class="p">)</span>
    <span class="n">scaledSurf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">smoothscale</span><span class="p">(</span><span class="n">tempSurface</span><span class="p">,(</span><span class="n">sWidth</span><span class="p">,</span><span class="n">sHeight</span><span class="p">))</span>

    <span class="c">#now blit it game surface</span>
    <span class="n">surface</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">scaledSurf</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">pos</span><span class="p">,(</span><span class="n">sWidth</span><span class="p">,</span><span class="n">sHeight</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

    <span class="n">WHITE</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
    <span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
    <span class="n">window</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>

    <span class="n">drawHouse</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span>\
              <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">150</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span><span class="o">.</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">drawHouse</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> \
              <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">75</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span><span class="o">.</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">drawHouse</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>\
              <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="o">.</span><span class="mi">75</span><span class="p">)</span>
    <span class="n">drawHouse</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> \
              <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span><span class="o">.</span><span class="mi">75</span><span class="p">)</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="n">WAIT</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s">&quot;Press enter to exit&quot;</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<img alt="picture of several houses" src="_images/pygame_house_complex.png" />
</div>
</div>
<div class="section" id="glossary">
<h2>4.8. Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-argument">argument</dt>
<dd>A value provided to a function when the function is called. This value
is assigned to the corresponding parameter in the function.  The argument
can be the result of an expression which may involve operators,
operands and calls to other fruitful functions.</dd>
<dt id="term-body">body</dt>
<dd>The second part of a control structure. The body consists of a
sequence of statements all indented the same amount from the beginning
of the header.  The standard amount of indentation used within the
Python community is 4 spaces.</dd>
<dt id="term-control-structure">control structure</dt>
<dd><p class="first">A statement that consists of two parts:</p>
<ol class="arabic simple">
<li>header - which begins with a keyword determining the statement
type, and ends with a colon.</li>
<li>body - containing one or more statements indented the same amount
from the header.</li>
</ol>
<p>The syntax of a control structure looks like this:</p>
<blockquote class="last">
<div><div class="highlight-python3"><div class="highlight"><pre><span class="n">keyword</span> <span class="n">expression</span><span class="p">:</span>
    <span class="n">statement</span>
    <span class="n">statement</span> <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
</dd>
<dt id="term-docstring">docstring</dt>
<dd>If the first thing in a function body is a string (or, we&#8217;ll see later, in other situations
too) that is attached to the function as its <tt class="docutils literal"><span class="pre">__doc__</span></tt> attribute,
and can be used by tools like IDLE.</dd>
<dt id="term-flow-of-execution">flow of execution</dt>
<dd>The order in which statements are executed during a program run.</dd>
<dt id="term-frame">frame</dt>
<dd>A box in a stack diagram that represents a function call. It contains
the local variables and parameters of the function.</dd>
<dt id="term-function">function</dt>
<dd>A named sequence of statements that performs some useful operation.
Functions may or may not take parameters and may or may not produce a
result.</dd>
<dt id="term-function-call">function call</dt>
<dd>A statement that executes a function. It consists of the name of the
function followed by a list of arguments enclosed in parentheses.</dd>
<dt id="term-function-composition">function composition</dt>
<dd>Using the output from one function call as the input to another.</dd>
<dt id="term-function-definition">function definition</dt>
<dd>A statement that creates a new function, specifying its name,
parameters, and the statements it executes.</dd>
<dt id="term-fruitful-function">fruitful function</dt>
<dd>A function that returns a value when it is called.</dd>
<dt id="term-header-line">header line</dt>
<dd>The first part of a compound statement. A header line begins with a keyword and
ends with a colon (:)</dd>
<dt id="term-import-statement">import statement</dt>
<dd>A statement which permits functions and variables defined in another Python
module to be brought into the environment of another script.  To use the
features of the turtle, we need to first import the turtle module.</dd>
<dt id="term-lifetime">lifetime</dt>
<dd>Variables and objects have lifetimes &#8212; they are created at some point during
program execution, and will be destroyed at some time.</dd>
<dt id="term-local-variable">local variable</dt>
<dd>A variable defined inside a function. A local variable can only be used
inside its function.  Parameters of a function are also a special kind
of local variable.</dd>
<dt id="term-parameter">parameter</dt>
<dd>A name used inside a function to refer to the value which was passed
to it as an argument.</dd>
<dt id="term-refactor">refactor</dt>
<dd>A fancy word to describe reorganizing your program code, usually to make
it more understandable.  Typically, we have a program that is already working,
then we go back to &#8220;tidy it up&#8221;.  It often involves choosing better variable
names, or spotting repeated patterns and moving that code into a function.</dd>
<dt id="term-stack-diagram">stack diagram</dt>
<dd>A graphical representation of a stack of functions, their variables,
and the values to which they refer.</dd>
<dt id="term-traceback">traceback</dt>
<dd>A list of the functions that are executing, printed when a runtime
error occurs. A traceback is also commonly referred to as a
<em>stack trace</em>, since it lists the functions in the order in which they
are stored in the
<a class="reference external" href="http://en.wikipedia.org/wiki/Runtime_stack">runtime stack</a>.</dd>
</dl>
</div>
<div class="section" id="exercises">
<h2>4.9. Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="conditionals.html" title="5. Conditionals and Debugging"
             >next</a> |</li>
        <li class="right" >
          <a href="usingfunctions.html" title="3. Using Functions for Fun and Profit"
             >previous</a> |</li>
        <li><a href="index.html">How to Think Like a Computer Scientist: Learning with Python 3</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="copyright.html">Copyright</a> 2012, Michael K. Bradshaw, Peter Wentworth, Jeffrey Elkner, Allen B. Downey and Chris Meyers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>