

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>8. Iteration &mdash; How to Think Like a Computer Scientist: Learning with Python 3 (HAN)</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3rd Edition-HAN',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="How to Think Like a Computer Scientist: Learning with Python 3 (HAN)" href="index.html" />
    <link rel="next" title="9. Classes and Objects - the Basics" href="classes_and_objects_I.html" />
    <link rel="prev" title="7. Sequence and For Each Loops" href="sequencesAndForEach.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="classes_and_objects_I.html" title="9. Classes and Objects - the Basics"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sequencesAndForEach.html" title="7. Sequence and For Each Loops"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">How to Think Like a Computer Scientist: Learning with Python 3</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="iteration">
<h1>8. Iteration<a class="headerlink" href="#iteration" title="Permalink to this headline">¶</a></h1>
<span class="target" id="index-0"></span><p id="index-1">Computers are often used to automate repetitive tasks. Repeating identical or
similar tasks without making errors is something that computers do well and
people do poorly.</p>
<p>Repeated execution of a set of statements is called <strong>iteration</strong>.  Because
iteration is so common, Python provides several language features to make it
easier. We&#8217;ve already seen the <tt class="docutils literal"><span class="pre">for</span> <span class="pre">each</span></tt> pattern in the previous chapter.    In this chapter we will explore additional techniques that add power to for each loops.   In addition we will investigate another type of loop pattern called the counting loop.  Between for each loops and counting loops, you will be able to solve most of your iteration needs.  The odd thing thing is that the syntax to use a counter loop or a for each loop is the same, it all revolves around how we use them to solve the problem at hand.</p>
<div class="section" id="reassignment">
<h2>8.1. Reassignment<a class="headerlink" href="#reassignment" title="Permalink to this headline">¶</a></h2>
<p>As we have mentioned previously, it is legal to make more than one assignment to the
same variable. A new assignment makes an existing variable refer to a new value
(and stop referring to the old value).</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">bruce</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bruce</span><span class="p">)</span>
<span class="n">bruce</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bruce</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>The output of this program is:</p>
<blockquote>
<div><div class="highlight-pycon"><div class="highlight"><pre><span class="go">5</span>
<span class="go">7</span>
</pre></div>
</div>
</div></blockquote>
<p>because the first time <tt class="docutils literal"><span class="pre">bruce</span></tt> is
printed, its value is 5, and the second time, its value is 7.</p>
<p>Here is what <strong>reassignment</strong> looks like in a state snapshot:</p>
<blockquote>
<div><img alt="reassignment" src="_images/mult_assign.png" />
</div></blockquote>
<p>With reassignment it is especially important to distinguish between an
assignment statement and a boolean expression that tests for equality.
Because Python uses the equal token (<tt class="docutils literal"><span class="pre">=</span></tt>) for assignment,
it is tempting to interpret a statement like
<tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">b</span></tt> as a Boolean test.  Unlike mathematics, it is not!  Remember that the Python token
for the equality operator is <tt class="docutils literal"><span class="pre">==</span></tt>.</p>
<p>Note too that an equality test is symmetric, but assignment is not. For example,
if <tt class="docutils literal"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">7</span></tt> then <tt class="docutils literal"><span class="pre">7</span> <span class="pre">==</span> <span class="pre">a</span></tt>. But in Python, the statement <tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">7</span></tt>
is legal and <tt class="docutils literal"><span class="pre">7</span> <span class="pre">=</span> <span class="pre">a</span></tt> is not.</p>
<p>Furthermore, in mathematics, a statement of equality is always true.  If <tt class="docutils literal"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">b</span></tt>
now, then <tt class="docutils literal"><span class="pre">a</span></tt> will always equal <tt class="docutils literal"><span class="pre">b</span></tt>. In Python, an assignment statement can make
two variables equal, but because of the possibility of reassignment,
they don&#8217;t have to stay that way:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>    <span class="c"># after executing this line, a and b are now equal</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>    <span class="c"># after executing this line, a and b are no longer equal</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>The third line changes the value of <tt class="docutils literal"><span class="pre">a</span></tt> but does not change the value of
<tt class="docutils literal"><span class="pre">b</span></tt>, so they are no longer equal. (In some programming languages, a different
symbol is used for assignment, such as <tt class="docutils literal"><span class="pre">&lt;-</span></tt> or <tt class="docutils literal"><span class="pre">:=</span></tt>, to avoid confusion.  Python
chose to use the tokens <tt class="docutils literal"><span class="pre">=</span></tt> for assignment, and <tt class="docutils literal"><span class="pre">==</span></tt> for equality.  This is a popular
choice also found in languages like C, C++, Java, and C#.)</p>
</div>
<div class="section" id="updating-variables">
<h2>8.2. Updating variables<a class="headerlink" href="#updating-variables" title="Permalink to this headline">¶</a></h2>
<p>When an assignment statement is executed, the right-hand-side expression (i.e. the
expression that comes after the assignment token) is evaluated first.  Then the result of
that evaluation is written into the variable on the left hand side, thereby changing it.</p>
<p>One of the most common forms of reassignment is an update, where the new
value of the variable depends on its old value.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Line 2 means <cite>get the current value of n, multiply it by three and add one,
and put the answer back into n as its new value</cite>.
So after executing the two lines above, <tt class="docutils literal"><span class="pre">n</span></tt> will have the value 16.</p>
<p>If you try to get the value of a variable that doesn&#8217;t exist yet, you&#8217;ll get an error:</p>
<blockquote>
<div><div class="highlight-python3"><pre>&gt;&gt;&gt; w = x + 1
Traceback (most recent call last):
  File "&lt;interactive input&gt;", line 1, in
NameError: name 'x' is not defined</pre>
</div>
</div></blockquote>
<p>Before you can update a variable, you have to <strong>initialize</strong> it, usually with a
simple assignment:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div></blockquote>
<p>This second statement &#8212; updating a variable by adding 1 to it &#8212; is very common.
It is called an <strong>increment</strong> of the variable; subtracting 1 is called a <strong>decrement</strong>.
Sometimes programmers also talk about <strong>bumping</strong> a variable, which means the same
as incrementing it by 1.</p>
</div>
<div class="section" id="summation">
<span id="index-2"></span><h2>8.3. Summation<a class="headerlink" href="#summation" title="Permalink to this headline">¶</a></h2>
<p>Let us write a function now to sum up all the elements in a list of numbers.
Do this by hand first, and try to isolate exactly what steps you take.  You&#8217;ll
find you need to keep some &#8220;running total&#8221; of the sum so far, either on a piece
of paper, or in your head.  Remembering things from one step to the next is
precisely why we have variables in a program: so we&#8217;ll need some variable
to remember the &#8220;running total&#8221;.  It should be initialized with a value of zero,
and then we need to traverse the items in the list.  For each item, we&#8217;ll want
to update the running total by adding the next number to it.</p>
<blockquote>
<div><div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">mysum</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Sum all the numbers in the list xs, and return the total. &quot;&quot;&quot;</span>
    <span class="n">running_total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">:</span>
        <span class="n">running_total</span> <span class="o">=</span> <span class="n">running_total</span> <span class="o">+</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">running_total</span>

<span class="c">#add tests like these to your test suite ...</span>
<span class="n">test</span><span class="p">(</span><span class="n">mysum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">mysum</span><span class="p">([</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.75</span><span class="p">]),</span> <span class="mf">5.5</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">mysum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">mysum</span><span class="p">([</span> <span class="p">]),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">mysum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)),</span> <span class="mi">55</span><span class="p">)</span>    <span class="c"># 11 is not in the list.</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>This technique is know as an accumulator.  The <tt class="docutils literal"><span class="pre">running_total</span></tt> accumulates the anser.</p>
</div>
<div class="section" id="accumulators-now-for-sequences">
<h2>8.4. Accumulators, Now for Sequences<a class="headerlink" href="#accumulators-now-for-sequences" title="Permalink to this headline">¶</a></h2>
<p>The concept of adding up numbers can also be applied to sequences.  Recall that the <tt class="docutils literal"><span class="pre">+</span></tt> operation performs concatenation of sequences.  Study the following program that creates a list of strings from user input.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">wordList</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
   <span class="n">word</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s">&quot;Please enter the next word&quot;</span><span class="p">)</span>
   <span class="n">wordList</span> <span class="o">=</span> <span class="n">wordList</span> <span class="o">+</span> <span class="p">[</span><span class="n">word</span><span class="p">]</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>The accumulator is initialized to an empty list <tt class="docutils literal"><span class="pre">[]</span></tt>.  Through each loop, the computer gets a new input and updates the list.  Note that in line 4,  <tt class="docutils literal"><span class="pre">word</span></tt> is placed in brackets to first make it a list before it can be concatenated to the accumulator.</p>
</div>
<div class="section" id="accumulation-algorithm">
<span id="index-3"></span><h2>8.5. Accumulation Algorithm<a class="headerlink" href="#accumulation-algorithm" title="Permalink to this headline">¶</a></h2>
<p>Let us formalize the accumulator algorithm we studied in the last sections.  An accumulator has three critical elements, that must be done in order:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Initialize an accumulator</li>
<li>Use a loop</li>
<li>Update the accumulator</li>
</ol>
</div></blockquote>
<ol class="arabic simple">
<li>We must initialize an accumulator first.  The initialization should be appropriate to what we will use the accumulator for.  If we are summing, 0 may be appropriate.  If we are multiplying, 1 is usually a good choice.  Sequence accumulators will usually start with an empty sequence such as <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt> or <tt class="docutils literal"><span class="pre">[]</span></tt>.The initialization must occur before the loop.  Otherwise, the accumulator will be reset after every iteration.  No accumulation would occur.</li>
<li>A loop should be used to create repetition that allows us to find new values to accumulate.</li>
<li>The update occurs within the body of the loop.  Accumulation usually has the form <tt class="docutils literal"><span class="pre">acc=acc+change</span></tt>.  One way to think of this is that &#8220;the new accumulator is equal to the old accumulator plus the change.&#8221;  Take care to insure that your accumulator has the same type as the change you are adding.  Numbers are added to numbers; lists are added to lists.</li>
</ol>
</div>
<div class="section" id="abbreviated-assignment">
<span id="index-4"></span><h2>8.6. Abbreviated assignment<a class="headerlink" href="#abbreviated-assignment" title="Permalink to this headline">¶</a></h2>
<p>Incrementing a variable is so common that Python provides an abbreviated syntax
for it:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span>
<span class="go">2</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">count</span> <span class="pre">+=</span> <span class="pre">1</span></tt> is an abbreviation for <tt class="docutils literal"><span class="pre">count</span> <span class="pre">=</span> <span class="pre">count</span> <span class="pre">+</span> <span class="pre">1</span></tt> . We pronounce the operator
as <em>&#8220;plus-equals&#8221;</em>.  The increment value does not have to be 1:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">+=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">7</span>
</pre></div>
</div>
</div></blockquote>
<p>There are similar abbreviations for <tt class="docutils literal"><span class="pre">-=</span></tt>, <tt class="docutils literal"><span class="pre">*=</span></tt>, <tt class="docutils literal"><span class="pre">/=</span></tt>, <tt class="docutils literal"><span class="pre">//=</span></tt> and <tt class="docutils literal"><span class="pre">%=</span></tt>:</p>
<blockquote>
<div><div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">*=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">-=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">//=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">%=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">1</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="counting-loops">
<span id="index-5"></span><h2>8.7. Counting Loops<a class="headerlink" href="#counting-loops" title="Permalink to this headline">¶</a></h2>
<p>We have seen for each loops used to perform an action for each element in a sequence.  The second most popular use of a python for loop is to repeat an action a particular number of times.  The key to understanding this is that <strong>a for loop will run once for each element in the sequence</strong>.  Observe the following functions that each produce the same output.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fcn0</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
        <span class="nb">print</span> <span class="s">&quot;Hi&quot;</span>

<span class="k">def</span> <span class="nf">fcn1</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;zero&#39;</span><span class="p">,</span><span class="s">&#39;one&#39;</span><span class="p">,</span><span class="s">&#39;two&#39;</span><span class="p">,</span><span class="s">&#39;three&#39;</span><span class="p">]:</span>
        <span class="nb">print</span> <span class="s">&quot;Hi&quot;</span>

<span class="k">def</span> <span class="nf">fcn2</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s">&quot;kite&quot;</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s">&quot;Hi&quot;</span>


<span class="k">def</span> <span class="nf">fcn3</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;badgers&#39;</span><span class="p">,</span><span class="s">&#39;cows&#39;</span><span class="p">,</span><span class="s">&#39;rats&#39;</span><span class="p">,</span><span class="s">&#39;frogs&#39;</span><span class="p">]:</span>
        <span class="nb">print</span> <span class="s">&quot;Hi&quot;</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>In a counting loop, the number of times that the loop runs is more important than what values <tt class="docutils literal"><span class="pre">i</span></tt> will take on.  For small number of repetitions, creating an appropriate sequence of values is doable.  However, creating a sequence of 1000 items could be troublesome.  The Counter loop concept is so commonplace that a function exists to create a list of numbers.  <tt class="docutils literal"><span class="pre">range()</span></tt> is a function that produces a list of numbers.  (In python 3 range() produces and iterable data type but can be used in much the same way with much greater efficiency.)</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fcn4</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
        <span class="nb">print</span> <span class="s">&quot;Hi&quot;</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
<div class="section" id="range">
<h2>8.8. Range<a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h2>
<p>Computer scientists use a short hand to describe what functions do and how they can be called. Below is the shorthand for a very important function called range.</p>
<p><strong>range( [start,] stop [,step] )</strong></p>
<p><em>This is a versatile function to create lists containing arithmetic progressions. It is most often used in for loops. The arguments must be plain integers. If the step argument is omitted, it defaults to 1. If the start argument is omitted, it defaults to 0. The full form returns a list of plain integers [start, start + step, start + 2 * step, ...]. If step is positive, the last element is the largest start + i * step less than stop; if step is negative, the last element is the smallest start + i * step greater than stop. step must not be zero (or else ValueError is raised). (from the python help files)</em></p>
<p>The first line tells us how to call the range function in our programs. It turns out there are three different ways to call range.</p>
<ol class="arabic simple">
<li>range(stop)</li>
<li>range(start, stop)</li>
<li>range(start, stop, step)</li>
</ol>
<p>Each successive technique uses more information to give more specific commands to range. If a parameter is not present, the function will use a default setting for that parameter. Note that the square brackets only identify the options to calling the function, they are not used in calling the function. Optional parameters are added in left to right order.</p>
</div>
<div class="section" id="number-patterns">
<h2>8.9. Number Patterns<a class="headerlink" href="#number-patterns" title="Permalink to this headline">¶</a></h2>
<p>Sometimes we need a little more out of our loop.  It is not just enough to repeat a particular number of times, we also want a particular set of numbers for each time we go through the loop.</p>
<p>The simplest number pattern, and the most common is to iterate with the numbers 0 up to some particular number.  Luckily, this is exactly what <tt class="docutils literal"><span class="pre">range()</span></tt> can do.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">i</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-pycon"><div class="highlight"><pre><span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="go">5</span>
<span class="go">6</span>
<span class="go">7</span>
<span class="go">8</span>
<span class="go">9</span>
</pre></div>
</div>
</div></blockquote>
<p>Through the use of extra parameters on the range function, we can create patterns that start and stop at any number of those that will increment by a constant (i.e. by two), the following code will count from 2 to 20, by multiples of 3.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">i</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>will produce:</p>
<blockquote>
<div><div class="highlight-pycon"><div class="highlight"><pre><span class="go">2</span>
<span class="go">5</span>
<span class="go">8</span>
<span class="go">11</span>
<span class="go">14</span>
<span class="go">17</span>
</pre></div>
</div>
</div></blockquote>
<p>Notice that 20 is not included.  The last value <tt class="docutils literal"><span class="pre">20</span></tt> is not included (much like ti was not inlcuded when working with slicing operation).</p>
<p>More complex patterns can be accomplished through the use of additional accumulators.  Examine the pattern <tt class="docutils literal"><span class="pre">1,2,4,7,11,16</span></tt>.  Through careful analysis we see that the numbers are increasing by an increasing rate: first by one, then by two, then by 3.   To solve this, we need an accumulator to keep track of the number we are calculating, and we will use a second accumulator to keep track of the rate in which the first accumulator is increasing.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">pattern</span>   <span class="o">=</span> <span class="mi">1</span>
<span class="n">increment</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">pattern</span>
    <span class="n">pattern</span><span class="o">=</span><span class="n">pattern</span><span class="o">+</span><span class="n">increment</span>
    <span class="n">increment</span><span class="o">=</span><span class="n">increment</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
<div class="section" id="detecting-the-pattern">
<h2>8.10. Detecting the pattern<a class="headerlink" href="#detecting-the-pattern" title="Permalink to this headline">¶</a></h2>
<p>Detecting the pattern we need to solve for is half of the work in creating a solutions. Lets look at the following image and think how iteration can be used to solve this problem.</p>
<blockquote>
<div><img alt="a pattern of lines" src="_images/pattern_lines.png" />
</div></blockquote>
<p>A common mistake is to try to determine the parameters of the for loop in one step.  This usually leads to a case of <em>blank page syndrome</em>.  When working with repetition you often need to take a step back and figure out how you would solve the problem &#8220;by hand&#8221; without iteration.  Write out three of the iterations by hand. Like we see below:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">60</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Once we take this step, we can see the pattern, the y&#8217;s increase by 30 each time.  It is sometimes beneficial to create a test program to get the pattern right.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">y</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">30</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Once you have solved the pattern it is easier to incorporate it into a solution.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pygame</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
    <span class="n">winS</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">))</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">y</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">30</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="s">&quot;pattern_lines.png&quot;</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Some patterns are more difficult, take this example where we wish to draw the box across the screen and growing progressively bigger.</p>
<blockquote>
<div><img alt="a pattern of squares" src="_images/pattern_squares.png" />
</div></blockquote>
<p>At first glance this is very daunting, but we will use our rule of three to find the pattern:</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="mi">4</span><span class="p">)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span><span class="mi">4</span><span class="p">)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">),</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>We see that there are actually two patterns here.  One pattern for the values of x and another for the widths of the rectangles.  The widths are doubling each time and can be accomplished with an accumulator.  The x values are increasing based on the widths of all the previous widths.  A second accumulator will be needed to keep track of the x&#8217;s.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">x</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">x</span><span class="p">,</span><span class="n">width</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">width</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>Finally we can add pygame functions to draw the rectangles.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pygame</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
    <span class="n">winS</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">))</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">width</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="n">RED</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">width</span><span class="p">),</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">width</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">2</span>


    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">winS</span><span class="p">,</span><span class="s">&quot;pattern_squares.png&quot;</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
<div class="section" id="tracing-a-program">
<span id="index-6"></span><h2>8.11. Tracing a program<a class="headerlink" href="#tracing-a-program" title="Permalink to this headline">¶</a></h2>
<p>To write effective computer programs a programmer needs to develop the ability
to <strong>trace</strong> the execution of a computer program. Tracing involves becoming the
computer and following the flow of execution through a sample program run,
recording the state of all variables and any output the program generates after
each instruction is executed.</p>
<p>To understand this process, let&#8217;s trace the call to generate the squares from the
previous section.</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">x</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">x</span><span class="p">,</span><span class="n">width</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">width</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>At the start of the trace, we have a 3 local variables, <tt class="docutils literal"><span class="pre">width</span></tt>,``x``,``i``
with initial values of 10, 0, 0 respectivly.  It is also a good idea to keep track of the <tt class="docutils literal"><span class="pre">range(5)</span></tt> return value as well.  One the firs tpass throught he loop we will print out th einitial values of <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">width</span></tt> and update them.</p>
<p>To keep track of all this as you hand trace a program, make a column heading on
a piece of paper for each variable created as the program runs and another one
for output. Our trace so far would look something like this:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="7%" />
<col width="7%" />
<col width="24%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">width</th>
<th class="head">x</th>
<th class="head">i</th>
<th class="head">range(5)</th>
<th class="head">output printed so far</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>10</td>
<td>0</td>
<td>0</td>
<td>[0,1,2,3,4]</td>
<td>0 10</td>
</tr>
<tr class="row-odd"><td>20</td>
<td>10</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Since i has not taken on all of the vlaues generated by range(5), the loop will continue.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="7%" />
<col width="7%" />
<col width="24%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">width</th>
<th class="head">x</th>
<th class="head">i</th>
<th class="head">range(5)</th>
<th class="head">output printed so far</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>10</td>
<td>0</td>
<td>0</td>
<td>[0,1,2,3,4]</td>
<td>0 10</td>
</tr>
<tr class="row-odd"><td>20</td>
<td>10</td>
<td>1</td>
<td>&nbsp;</td>
<td>10 20</td>
</tr>
<tr class="row-even"><td>40</td>
<td>30</td>
<td>2</td>
<td>&nbsp;</td>
<td>30 40</td>
</tr>
<tr class="row-odd"><td>80</td>
<td>70</td>
<td>3</td>
<td>&nbsp;</td>
<td>70 80</td>
</tr>
<tr class="row-even"><td>160</td>
<td>150</td>
<td>4</td>
<td>&nbsp;</td>
<td>150 160</td>
</tr>
</tbody>
</table>
<p>Tracing can be a bit tedious and error prone (that&#8217;s why we get computers to do
this stuff in the first place!), but it is an essential skill for a programmer
to have. From this trace we can learn a lot about the way our code works.</p>
<p>Tracing a program is, of course, related to single-stepping through your code
and being able to inspect the variables. Using the computer to <strong>single-step</strong> for you is
less error prone and more convenient.
Also, as your programs get more complex, they might execute many millions of
steps before they get to the code that you&#8217;re really interested in, so manual tracing
becomes impossible.  Being able to set a <strong>breakpoint</strong> where you need
one is far more powerful. So we strongly encourage you to invest time in
learning using to use your programming environment (IDLE, in these notes) to full
effect.</p>
<p>There are also some great visualization tools becoming available to help you
trace and understand small fragments of Python code.  The one we recommend is at
<a class="reference external" href="http://netserv.ict.ru.ac.za/python3_viz">http://netserv.ict.ru.ac.za/python3_viz</a></p>
<p>We&#8217;ve cautioned
against chatterbox functions, but used them here.  As we learn a bit more Python, we&#8217;ll
be able to show you how to generate a list of values to hold the sequence, rather than having
the function print them. Doing this would remove the need to have all these pesky <tt class="docutils literal"><span class="pre">print</span></tt> functions
in the middle of our logic, and will make the function more useful.</p>
</div>
<div class="section" id="glossary">
<h2>8.12. Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-algorithm">algorithm</dt>
<dd>A step-by-step process for solving a category of problems.</dd>
<dt id="term-body">body</dt>
<dd>The statements inside a loop.</dd>
<dt id="term-breakpoint">breakpoint</dt>
<dd>A place in your program code where program execution will pause (or break),
allowing you to inspect the state of the program&#8217;s variables, or single-step
through individual statements, executing them one at a time.</dd>
<dt id="term-bump">bump</dt>
<dd>Programmer slang. Synonym for increment.</dd>
<dt id="term-counter">counter</dt>
<dd>A variable used to count something, usually initialized to zero and
incremented in the body of a loop.</dd>
<dt id="term-cursor">cursor</dt>
<dd>An invisible marker that keeps track of where the next character will
be printed.</dd>
<dt id="term-decrement">decrement</dt>
<dd>Decrease by 1.</dd>
<dt id="term-definite-iteration">definite iteration</dt>
<dd>A loop where we have an upper bound on the number of times the
body will be executed.  Definite iteration is usually best coded
as a <tt class="docutils literal"><span class="pre">for</span></tt> loop.</dd>
<dt id="term-development-plan">development plan</dt>
<dd>A process for developing a program. In this chapter, we demonstrated a
style of development based on developing code to do simple, specific
things and then encapsulating and generalizing.</dd>
<dt id="term-encapsulate">encapsulate</dt>
<dd>To divide a large complex program into components (like functions) and
isolate the components from each other (by using local variables, for
example).</dd>
<dt id="term-escape-sequence">escape sequence</dt>
<dd>An escape character, \, followed by one or more printable characters
used to designate a nonprintable character.</dd>
<dt id="term-generalize">generalize</dt>
<dd>To replace something unnecessarily specific (like a constant value)
with something appropriately general (like a variable or parameter).
Generalization makes code more versatile, more likely to be reused, and
sometimes even easier to write.</dd>
<dt id="term-increment">increment</dt>
<dd>Both as a noun and as a verb, increment means to increase by 1.</dd>
<dt id="term-infinite-loop">infinite loop</dt>
<dd>A loop in which the terminating condition is never satisfied.</dd>
<dt id="term-indefinite-iteration">indefinite iteration</dt>
<dd>A loop where we just need to keep going until some condition is met.
A <tt class="docutils literal"><span class="pre">while</span></tt> statement is used for this case.</dd>
<dt id="term-initialization-of-a-variable">initialization (of a variable)</dt>
<dd>To initialize a variable is to give it an initial value.
Since in Python variables don&#8217;t exist
until they are assigned values, they are initialized when they are
created.  In other programming languages this is not the case, and
variables can be created without being initialized, in which case they
have either default or <em>garbage</em> values.</dd>
<dt id="term-iteration">iteration</dt>
<dd>Repeated execution of a set of programming statements.</dd>
<dt id="term-loop">loop</dt>
<dd>A statement or group of statements that execute repeatedly until a
terminating condition is satisfied.</dd>
<dt id="term-loop-variable">loop variable</dt>
<dd>A variable used as part of the terminating condition of a loop.</dd>
<dt id="term-meta-notation">meta-notation</dt>
<dd>Extra symbols or notation that helps describe other notation. Here we introduced
square brackets, ellipses, italics, and bold as meta-notation to help
describe optional, repeatable, substitutable and fixed parts of the Python syntax.</dd>
<dt id="term-middle-test-loop">middle-test loop</dt>
<dd>A loop that executes some of the body, then tests for the exit condition,
and then may execute some more of the body.  We don&#8217;t have a special
Python construct for this case, but can
use <tt class="docutils literal"><span class="pre">while</span></tt> and <tt class="docutils literal"><span class="pre">break</span></tt> together.</dd>
<dt id="term-nested-loop">nested loop</dt>
<dd>A loop inside the body of another loop.</dd>
<dt id="term-newline">newline</dt>
<dd>A special character that causes the cursor to move to the beginning of
the next line.</dd>
<dt id="term-post-test-loop">post-test loop</dt>
<dd>A loop that executes the body, then tests for the exit condition.  We don&#8217;t have a special
Python construct for this, but can use <tt class="docutils literal"><span class="pre">while</span></tt> and <tt class="docutils literal"><span class="pre">break</span></tt> together.</dd>
<dt id="term-pre-test-loop">pre-test loop</dt>
<dd>A loop that tests before deciding whether the execute its body.  <tt class="docutils literal"><span class="pre">for</span></tt> and <tt class="docutils literal"><span class="pre">while</span></tt>
are both pre-test loops.</dd>
<dt id="term-reassignment">reassignment</dt>
<dd>Making more than one assignment to the same variable during the
execution of a program.</dd>
<dt id="term-single-step">single-step</dt>
<dd>A mode of interpreter execution where you are able to execute your
program one step at a time, and inspect the consequences of that step.
Useful for debugging and building your internal mental model of what is
going on.</dd>
<dt id="term-tab">tab</dt>
<dd>A special character that causes the cursor to move to the next tab stop
on the current line.</dd>
<dt id="term-trichotomy">trichotomy</dt>
<dd>Given any real numbers <em>a</em> and <em>b</em>, exactly one of the following
relations holds: <em>a &lt; b</em>, <em>a &gt; b</em>, or <em>a == b</em>. Thus when you can
establish that two of the relations are false, you can assume the
remaining one is true.</dd>
<dt id="term-trace">trace</dt>
<dd>To follow the flow of execution of a program by hand, recording the
change of state of the variables and any output produced.</dd>
</dl>
</div>
<div class="section" id="exercises">
<h2>8.13. Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>This chapter showed us how to sum a list of items,
and how to count items.  The counting example also had an <tt class="docutils literal"><span class="pre">if</span></tt> statement
that let us only count some selected items.  In the previous
chapter we also showed a function <tt class="docutils literal"><span class="pre">find_first_2_letter_word</span></tt> that allowed
us an &#8220;early exit&#8221; from inside a loop by using <tt class="docutils literal"><span class="pre">return</span></tt> when some condition occurred.
We now also have <tt class="docutils literal"><span class="pre">break</span></tt> to exit a loop (but not the enclosing function, and
<tt class="docutils literal"><span class="pre">continue</span></tt> to abandon the current iteration of the loop without ending the loop.</p>
<p>Composition of list traversal, summing, counting, testing conditions
and early exit is a rich collection of building blocks that can be combined
in powerful ways to create many functions that are all slightly different.</p>
<p>The first six questions are typical functions you should be able to write using only
these building blocks.</p>
<ol class="arabic">
<li><p class="first">Write a function to count how many odd numbers are in a list.</p>
</li>
<li><p class="first">Sum up all the even numbers in a list.</p>
</li>
<li><p class="first">Sum up all the negative numbers in a list.</p>
</li>
<li><p class="first">Count how many words in a list have length 5.</p>
</li>
<li><p class="first">Sum all the elements in a list up to but not including the first even number.
(Write your unit tests.  What if there is no even number?)</p>
</li>
<li><p class="first">Count how many words occur in a list up to and including the first occurrence of the word &#8220;sam&#8221;.
(Write your unit tests for this case too.  What if &#8220;sam&#8221; does not occur?)</p>
</li>
<li><p class="first">Add a print function to Newton&#8217;s <tt class="docutils literal"><span class="pre">sqrt</span></tt> function that
prints out <tt class="docutils literal"><span class="pre">better</span></tt> each time it is calculated. Call your modified
function with 25 as an argument and record the results.</p>
</li>
<li><p class="first">Trace the execution of the last version of <tt class="docutils literal"><span class="pre">print_mult_table</span></tt> and figure
out how it works.</p>
</li>
<li><p class="first">Write a function <tt class="docutils literal"><span class="pre">print_triangular_numbers(n)</span></tt> that prints out the first
n triangular numbers. A call to <tt class="docutils literal"><span class="pre">print_triangular_numbers(5)</span></tt> would
produce the following output:</p>
<div class="highlight-python"><pre>1       1
2       3
3       6
4       10
5       15</pre>
</div>
<p>(<em>hint: use a web search to find out what a triangular number is.</em>)</p>
</li>
<li><p class="first">Write a function, <tt class="docutils literal"><span class="pre">is_prime</span></tt>, which takes a single integer argument
and returns <tt class="docutils literal"><span class="pre">True</span></tt> when the argument is a <em>prime number</em> and <tt class="docutils literal"><span class="pre">False</span></tt>
otherwise. Add tests for cases like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">test</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">19911129</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The last case could represent your birth date.  Were you born on a prime day?
In a class of 100 students, how many do you think would have prime birth dates?</p>
</li>
<li><p class="first">Revisit the drunk student problem from the exercises in chapter 3.
This time, the drunk student makes a turn, and then takes some steps forward, and repeats this.
Our social science student now records <cite>pairs</cite> of data: the angle of each turn, and the number
of steps taken after the turn.  Her experimental data is
[(160, 20), (-43, 10), (270, 8), (-43, 12)].  Use a turtle to draw the path taken by our drunk friend.</p>
</li>
<li><p class="first">Many interesting shapes can be drawn by the turtle by giving a list of pairs like we did
above, where the first item of the pair is the angle to turn, and the second item is
the distance to move forward.  Set up a list of pairs so that the turtle draws a
house with a cross through the centre, as show here.
This should be done without going over any of the lines / edges more than once,
and without lifting your pen.</p>
<img alt="_images/tess_house.png" src="_images/tess_house.png" />
</li>
<li><p class="first">Not all shapes like the one above can be drawn without lifting your pen, or going over
an edge more than once.  Which of these can be drawn?</p>
<img alt="_images/tess_more_houses.png" src="_images/tess_more_houses.png" />
<p>Now read Wikipedia&#8217;s article(<a class="reference external" href="http://en.wikipedia.org/wiki/Eulerian_path">http://en.wikipedia.org/wiki/Eulerian_path</a>) about Eulerian paths.
Learn how to tell immediately by inspection whether it is possible to find a solution or not.
If the path is possible, you&#8217;ll also know where to put your pen to start drawing, and where
you should end up!</p>
</li>
<li><p class="first">What will <tt class="docutils literal"><span class="pre">num_digits(0)</span></tt> return? Modify it to return <tt class="docutils literal"><span class="pre">1</span></tt> for this
case. Why does a call to <tt class="docutils literal"><span class="pre">num_digits(-24)</span></tt> result in an infinite loop?
(<em>hint: -1//10 evaluates to -1</em>)  Modify <tt class="docutils literal"><span class="pre">num_digits</span></tt> so that it works
correctly with any integer value. Add these tests:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">test</span><span class="p">(</span><span class="n">num_digits</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">num_digits</span><span class="p">(</span><span class="o">-</span><span class="mi">12345</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a function <tt class="docutils literal"><span class="pre">num_even_digits(n)</span></tt> that counts the number
of even digits in <tt class="docutils literal"><span class="pre">n</span></tt>.  These tests should pass:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">test</span><span class="p">(</span><span class="n">num_even_digits</span><span class="p">(</span><span class="mi">123456</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">num_even_digits</span><span class="p">(</span><span class="mi">2468</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">num_even_digits</span><span class="p">(</span><span class="mi">1357</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">num_even_digits</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Write a function <tt class="docutils literal"><span class="pre">sum_of_squares(xs)</span></tt> that computes the sum
of the squares of the numbers in the list <tt class="docutils literal"><span class="pre">xs</span></tt>.  For example,
<tt class="docutils literal"><span class="pre">sum_of_squares([2,</span> <span class="pre">3,</span> <span class="pre">4])</span></tt> should return 4+9+16 which is 29:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">test</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="mi">29</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">([</span> <span class="p">]),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="mi">29</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">You and your friend are in a team to write a two-player game,
human against computer, such as Tic-Tac-Toe / Noughts and Crosses.
Your friend will write the logic to play one round of the game, while you will
write the logic to allow many rounds of play, keep score, decide who
plays, first, etc.  The two of you negotiate on how the two parts of the
program will fit together, and you come up with this simple
scaffolding (which your friend will improve later):</p>
<blockquote>
<div><div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># your friend will complete this function</span>
<span class="k">def</span> <span class="nf">play_once</span><span class="p">(</span><span class="n">human_plays_first</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Must play one round of the game. If the parameter</span>
<span class="sd">       is True, the human gets to play first, else the</span>
<span class="sd">       computer gets to play first.  When the round ends,</span>
<span class="sd">       the return value of the function is one of</span>
<span class="sd">       -1 (human wins),  0 (game drawn),   1 (computer wins).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># This is all dummy scaffolding code right at the moment...</span>
    <span class="kn">import</span> <span class="nn">random</span>                  <span class="c"># see ch 10 for details</span>
    <span class="n">rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">()</span>
    <span class="c"># pick a random result between -1 and 1.</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&quot;Human plays first={0},  winner={1} &quot;</span>
                       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">human_plays_first</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<ol class="loweralpha simple">
<li>Write the main program which repeatedly calls this function to play
the game, and after each round it announces the outcome as &#8220;I win!&#8221;, &#8220;You win!&#8221;, or &#8220;Game drawn!&#8221;.
It then asks the player &#8220;Do you want to play again?&#8221; and either plays again,
or says &#8220;Goodbye&#8221;, and terminates.</li>
<li>Keep score of how many wins each player has had, and how many draws there have been.
After each round of play, also announce the scores.</li>
<li>Add logic so that the players take turns to play first.</li>
<li>Compute the percentage of wins for the human, out of all games played.  Also announce this
at the end of each round.</li>
<li>Draw a flowchart of your logic.</li>
</ol>
</li>
</ol>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="classes_and_objects_I.html" title="9. Classes and Objects - the Basics"
             >next</a> |</li>
        <li class="right" >
          <a href="sequencesAndForEach.html" title="7. Sequence and For Each Loops"
             >previous</a> |</li>
        <li><a href="index.html">How to Think Like a Computer Scientist: Learning with Python 3</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="copyright.html">Copyright</a> 2012, Michael K. Bradshaw, Peter Wentworth, Jeffrey Elkner, Allen B. Downey and Chris Meyers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>